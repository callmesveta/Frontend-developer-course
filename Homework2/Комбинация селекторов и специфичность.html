<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>Комбинация селекторов и специфичность</title>

    <style>

            ul {list-style-type: square;}
            ol {list-style-type: decimal;}
            h1 {color: blue;}
            h3 {color: red;
                font-weight: bold;
                text-align: center}

    </style>
    

</head>


<body>

    <h1>CSS Комбинаторы</h1>
    
    <p>Комбинатор - это то, что объясняет взаимосвязь между селекторами.<br>
    Cелектор CSS может содержать более одного селектора. Между селекторами, можно включить комбинатор. Есть четыре различных комбинатора в CSS3:</p>
    
    <ul>
    
    <li>селектор потомок;</li>
    <li>селектор ребенок;</li>
    <li>селектор смежный брат;</li>
    <li>селектор общий брат.</li>
    
    </ul>
    
    <h2>Селектор потомок</h2>
    
    <p>Селектор потомок сопоставляется всем элементам, которые являются потомками указанного элемента.<br>
        Следующий пример выбирает все элементы <code>&lt;p&gt;</code> внутри элемента <code>&lt;div&gt;</code>:</p>

     <h3>div p {background-color: yellow;}</h3>
    
     <h2>Селектор ребенок</h2>
     
     <p>Селектор ребенок выбирает все элементы, которые являются непосредственными детьми указанного элемента.<br>
        Следующий пример выбирает все элементы <code>&lt;p&gt;</code> непосредственных детей элемента <code>&lt;div&gt;</code>:</p>
     
     <h3>div > p {background-color: yellow;}</h3>
     
     <h2>Селектор соседний брат</h2>
     
     <p>Селектор соседний брат выбирает все элементы, которые являются смежными элементами указанного элемента.<br>
         Дочерние элементы должны иметь тот же родительский элемент, "соседний" значит "сразу же после".<br>
         Следующий пример выбирает все элементы <code>&lt;p&gt;</code>, которые размещаются сразу после элемента <code>&lt;div&gt;</code>:</p>
     
     <h3>div + p {background-color: yellow;}</h3>
     
     <h2>Селектор общий брат</h2>
     
     <p>Селектор общий брат выбирает все элементы, которые являются элементами указанного элемента.<br>
         Следующий пример выбирает все элементы <code>&lt;p&gt;</code>, что являются братьями и сестрами элемента <code>&lt;div&gt;</code>:</p>
     
     <h3>div ~ p {background-color: yellow;}</h3>
     
     
     <h1>Специфичность</h1>
     
     <p>Специфичность — это алгоритм, благодаря которому браузер определяет, какие именно стили из всего набора применить к элементу.<br>
        В вычислениях участвуют CSS-селекторы. Если одному и тому же элементу подходит сразу несколько CSS-правил с разными селекторами, то браузер применяет те стили, вес селектора которых больше. Правило каскада «кто ниже, тот и выигрывает» при этом может нарушаться. Специфичность — это одно из базовых понятий в CSS.</p>
     
     <h2>Вес селекторов</h2>
     
     <p>Давайте разберёмся, как браузер взвешивает селектор. Ниже перечислены типы селекторов по убыванию специфичности:<p>
     
     <ol>
     <li>Селекторы по идентификатору;</li>
     <li>Селекторы по классу, селекторы по атрибуту и селекторы с псевдоклассами;</li>
     <li>Селекторы по тегу, селекторы с псевдоэлементами.</li>
     </ol>
     
    <p> Комбинаторы +, >, ~, универсальный селектор * и псевдокласс :where() веса не имеют.<br>
     Псевдоклассы :is(), :has() и :not() принимают вес наиболее специфичного селектора внутри скобок.</p>
     
    <h2>Система расчёта</h2>
    
    <p>Существует удобный способ вычисления веса селектора в уме. Выше мы перечислили три группы сущностей, из которых может состоять селектор. Представим любой селектор в виде трёх нулей: 0.0.0.</p>
    
    <ul>
    <li>Селекторы по идентификатору увеличивают первую цифру.</li>
    <li>Селекторы по классу, по атрибуту или псевдокласс увеличивают вторую цифру.</li>
    <li>Селектор по тегу или псевдоэлемент увеличивают третью цифру.</li>
    </ul>
    
    <p>Один селектор равен единице.<br>
        Пока сложно понять. Давайте разберёмся на примерах.</p>
    
    <ul>
    <li>Селектор #some состоит из одного идентификатора. Один селектор = 1. Увеличиваем первую цифру на 1. В итоге вес такого селектора равен 1.0.0.</li>
    <li>.class состоит из одного класса. Увеличиваем вторую цифру на 1. Получаем вес селектора 0.1.0.</li>
    <li>section состоит из одного тега. Увеличиваем последнюю цифру на 1. Вес селектора равен 0.0.1.</li>
    </ul>
      
    <p>Дальше аналогично можем посчитать вес комбинированных селекторов.</p>
 	
    <ul>
	<li>div#some состоит из одного селектора по тегу и одного идентификатора. Селектор по тегу увеличивает последнюю цифру, селектор по идентификатору — первую. Вес селектора равен 1.0.1.</li>
	<li>section h1 состоит из двух селекторов по тегу. Увеличиваем последнюю цифру на два и получаем вес 0.0.2.</li>
	<li>#block section > .list a состоит из идентификатора (первая цифра), двух тегов (последняя цифра) и класса (вторая цифра). Вес селектора равен 1.1.2.</li>
	<li>* .list a состоит из одного класса и одного тега. Итоговый вес будет 0.1.1. Универсальный селектор ничего не весит.</li>
    </ul>
    
    <p>Для наглядности расположим селекторы по убыванию веса. Сверху самый тяжёлый.</p>

	<ol>
	<li>#block section > .list a - 1.1.2</li>
	<li>div#some - 1.0.1</li>
	<li>#some - 1.0.0</li>
	<li>* .list a - 0.1.1</li>
	<li>.class - 0.1.0</li>
	<li>section h1 - 0.0.2</li>
	<li>section - 0.0.1 </li>
    </ol>
    
    <h2>Атрибут style</h2>
    
    <p>CSS-свойства, написанные в атрибуте <code>&lt;style&gt;</code> внутри HTML-разметки, перебивают свойства, написанные для этого элемента во внешних CSS-файлах или внутри тега <code>&lt;style&gt;</code>. Так что формально атрибут style самый специфичный, у него самый большой вес.<br>
    Иногда его добавляют в формулу в виде четвёртой цифры, стоящей перед всеми.</p>
    
    <h2>!important</h2>
    
    <p>Ключевое слово !important нарушает все установленные спецификацией законы и насильно применяет свойство, после которого написано. Ему плевать на селектор CSS-правила, внутри которого это свойство написано. Будет так, и никак иначе.<br>
    Формально это ключевое слово не имеет отношения к концепции специфичности. Но из-за его варварских замашек нельзя не принимать его во внимание.<br>
	Тут к месту будет ещё раз напомнить, что ключевое слово !important всегда стоит использовать с осторожностью и не злоупотреблять им. В том числе из-за того, что оно нарушает естественную работу специфичности и каскада.</p>

</body>


</html>